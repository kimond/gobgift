{% extends "gobgift/_layout.html" %}
{% load i18n %}
{% load object_utils %}
{% load url from future %}
{%block content%}
    <div class="mdl-grid mdl-grid--no-spacing">
        <div class="mdl-cell mdl-cell--2-col"></div>
        <div class="mdl-cell mdl-cell--8-col">
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--12-col">
                    <h3>GobGift <small>my groups</small></h3>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    <div class="mdl-grid mdl-grid--no-spacing">
        <div class="mdl-cell mdl-cell--2-col"></div>
        <div class="mdl-cell mdl-cell--8-col">
        {% for group in groups %}
        <div class="mdl-grid">
            <div class="mdl-cell mdl-cell--4-col">{{group.name}}</div>
            <div class="mdl-cell mdl-cell--4-col">{{group.owner.first_name}} {{group.owner.last_name}}</div>
            <div class="mdl-cell mdl-cell--4-col">
                <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" href="{{group.get_view_url}}">Show lists</a>
                {% if group.owner == user  or group|args:user|call:"is_user_admin" %}
                <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" href="{{group.get_edit_url}}">{% trans "Edit" %}</a>
                {% endif %}
                {% if group.owner == user %}
                <a class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" href="{{group.get_delete_url}}">{% trans "Delete" %}</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
        </div>
    </div>
{% endblock %}
