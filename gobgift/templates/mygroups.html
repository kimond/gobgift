{% extends "gobgift/_layout.html" %}
{% load i18n %}
{% load object_utils %}
{% load url from future %}
{%block content%}
    <div class="mdl-grid mdl-grid--no-spacing">
        <div class="mdl-cell mdl-cell--2-col"></div>
        <div class="mdl-cell mdl-cell--8-col">
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--12-col">
                    <h3>GobGift <small>my groups</small></h3>
                </div>
            </div>
        </div>
    </div>
    <hr/>
    {% for group in groups %}
    <div class="mdl-grid container-grid">
        <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col list-card">
            <div class="mdl-card__title mdl-card--expand">
                <h2 class="mdl-card__title-text">{{group.name}}</h2>
            </div>
            <div class="mdl-card__supporting-text">
                <p><b>Owner:</b> {{group.owner.first_name}} {{group.owner.last_name}}</p>
                <b>Peoples:</b> {{group.users.all|join:", "}}
            </div>
            <div class="mdl-card__actions mdl-card--border">
                <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="{{group.get_view_url}}">{% trans "Show lists" %}</a>
                {% if group.owner == user  or group|args:user|call:"is_user_admin" %}
                <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="{{group.get_edit_url}}">{% trans "Edit" %}</a>
                {% endif %}
                {% if group.owner == user %}
                <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="{{group.get_delete_url}}">{% trans "Delete" %}</a>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
{% endblock %}
